<div class="container m-y-2 mt-5">

  <div class="alert alert-warning" role="alert" *ngIf="user?.status=='published'">
    Your profile will be visible once approved by an admin
  </div>

  <div class="row mt-5">
    <!-- edit form column -->
    <div class="col-lg-12 text-lg-center">
      <h2>Edit Profile</h2>
    </div>
    <div class="col-lg-4 pull-lg-8 text-xs-center">
      <img [src]="user.picture" class="rounded" alt="avatar" />

    </div>
    <div class="col-lg-8 push-lg-4 personal-info">
      <form role="form" #f="ngForm" novalidate>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">First name</label>
          <div class="col-lg-9">
            <input readonly class="form-control-plaintext" type="text" [ngModel]="user.firstname" name="firstname">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Last name</label>
          <div class="col-lg-9">
            <input readonly class="form-control-plaintext" type="text" [ngModel]="user.lastname" name="lastname">
          </div>
        </div>
        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Email</label>
          <div class="col-lg-9">
            <input readonly class="form-control-plaintext" type="email" [ngModel]="user.email" name="email">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Category*</label>
          <div class="col-lg-9">
            <select class="form-control" [(ngModel)]="user.category" name="category" required>
              <option value="profesional">Profesional</option>
              <option value="student">Student</option>
            </select>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Headline*</label>
          <div class="col-lg-9">
            <input class="form-control" [(ngModel)]="user.headline" name="headline" required #headline="ngModel">
            <div *ngIf="headline.invalid" class="invalid-form-input">
              <div *ngIf="headline.errors['required']">
                Headline is required.
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Bio*</label>
          <div class="col-lg-9">
            <textarea class="form-control" rows="3" [(ngModel)]="user.bio" name="bio" required #bio="ngModel" minlength="5fs0"></textarea>
            <div *ngIf="bio.invalid" class="invalid-form-input">

              <div *ngIf="bio.errors['required']">
                bio is required.
              </div>
              <div *ngIf="bio.errors['minlength']">
                Name must be at least 50 characters long.
              </div>

            </div>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Skills*</label>
          <div class="col-lg-9">
            <p-chips [(ngModel)]="user.tags" [minlength]="3" name="tags" required #skills="ngModel"></p-chips>
            <div *ngIf="skills.invalid" class="invalid-form-input">

              <div *ngIf="skills.errors['required']">
                Skills are required.
              </div>
              <div *ngIf="skills.errors['minlength']">
               You should have at least 3 skills
              </div>

            </div>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">City*</label>
          <div class="col-lg-9">
            <input class="form-control" #location [ngModel]="user.city" #city="ngModel" name="location" required>
            <div *ngIf="city.invalid" class="invalid-form-input">
              <div *ngIf="city.errors['required']">
                City is required.
              </div>
            </div>
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label">Linkedin</label>
          <div class="col-lg-9">
            <input readonly class="form-control-plaintext" type="url" [(ngModel)]="user.linkedin" name="linkedin">
          </div>
        </div>

        <div class="form-group row">
          <label class="col-lg-3 col-form-label form-control-label"></label>
          <div class="col-lg-9">
            <!-- <input type="reset" class="btn btn-secondary" value="Cancel"> -->
            <button type="button" class="btn btn-primary" [disabled]="f.invalid" (click)="save()">{{user.status=='published'?'Update':'Publish'}}</button>
          </div>
        </div>
      </form>
    </div>

  </div>
